\chapter{Conclusions}
\label{sec:concl}

For image processing, the more operations that can be parallelized, the faster an image can be processed. However, as parallelism is increased, the amount of hardware required is also increased. It could be possible to parallelize a SAD algorithm to the point where it only takes a few clock cycles to process the whole image (i.e. every SAD calculation for an image pair occurring simultaneously). Unfortunately, the area required on an FPGA would be a lot more than what was implemented in this paper, especially since the implementation in this paper was only able to process up 4 pixels simultaneously. The hardware cost to obtain the higher levels of FPGAs would be very cost prohibitive and not something a club or hobbyist could readily use for a robotics project. There does come a point where the frames per second of disparity maps exceeds the rate the other parts of the robot can process, which is an unnecessary cost. So the FPGA board only needs to be able to handle a SAD implementation up to a certain frame rate and image quality, which depends on the requirements of the application for the robot.

The smaller the image size, the higher the frame rate. Both the 9x9 and 7x7 window implementations were shown be above 10 frames per second for an image size of 640x480. Between the 9x9 window implementation and the 7x7 window implementation, unless a higher frame rate is needed, the 9x9 is better than the 7x7. While 7x7 has a higher frame rate, 9x9 produces a better quality disparity map with less noise and requires fewer hardware resources. The mentioned 7x7 implementation used parallel SAD algorithms with only two pixels processed in parallel and it was around 17\% faster than the 7x7 implementation that processed 4 pixels in parallel. The 9x9 window implementation processed 4 pixels in parallel and its SAD algorithms were not internally parallelized.

The number of clock cycles required to process an image for the different implementations were obtained from the FPGA board and compared to the number of clock cycles measured from testbench simulations. The number of clock cycles matched up and showed that the number of cycles per iteration were calculable. On the Atlys board, the VmodCAM supplies the board with an image size of 640x480 pixels. It has been shown that the 9x9 implementation is able to process an image pair of that size at up to 15.73 frames per second. The 7x7 implementation with parallelized SAD was shown to be able to process that image pair size at up to 29.32 frames per second. The 7x7 frame rate could be higher if the data supplied to the SAD wrapper was further parallelized to decrease the number of clock cycles required to send data to it.

This modular implementation of the SAD algorithm has the potential to be used for FPGA implementations in autonomous mobile robotic applications.